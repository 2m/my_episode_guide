<!DOCTYPE html>
<html>
<head>
<link href="style.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script type="text/javascript" src="storage.js"></script>
<script type="text/javascript" src="handles.js"></script>
<script>
function clearCache() {
    localStorage.clear();
    loadDefaultSettings(settingsStorage);
    
    getBackgroundHandle().draw();
}

$(function() {
    $("#refreshHours").keyup(function() {
        updateRefreshInterval;
    }).click(function() {
        updateRefreshInterval();
    });
    
    $("#refreshHours").val(settingsStorage.getItem("refreshInterval") / (1000 * 60 * 60));
});

function updateRefreshInterval() {
    settingsStorage.setItem("refreshInterval", $("#refreshHours").val() * 60 * 60 * 1000);
    getBackgroundHandle().startRefreshTimer();
}

</script>
<style>
a {
    color: blue;
    text-decoration: underline;
}

p {
    padding-bottom: 6px;
}

.setting {
    padding-bottom: 30px;
}

#main {
    width: 600px;
    margin: auto;
}

.title {
    font-size: larger;
    border-bottom: 1px #CCC solid;
}

</style>
</head>
<body>

<div id="main">
    <h1>My Episode Guide</h1>
    
    <div class="setting">
        <div class="title">Background auto-refresh</div>
        <span>Refresh show data in the background every <input id="refreshHours" type="number" min="1" max="24" step="1"/> hour(s).</span>
    </div>
    
    <div class="setting">
        <div class="title">Local storage</div>
        <span>If you have any problems after version upgrade, or want to reset your shows, try <a href="" onclick="clearCache()">clearing local storage</a>. All your show settings will be lost.</span>
    </div>
    
    <div class="setting">
        <div class="title">Miscellaneous</div>
        <p>Author: <a target="_blank" href="http://2m.lt">Martynas Mickevièius</a></p>
        <p>Version: 1.2</p>
        <p>Fork it on <a target="_blank" href="https://github.com/2m/my_episode_guide/">github</a>.</p>
        <p>Request improvements or report any problems to the <a target="_blank" href="https://github.com/2m/my_episode_guide/issues">issue tracker</a>.</p>
        <p>Data for all the shows comes from <a target="_blank" href="http://www.episodeworld.com">www.episodeworld.com</a>.</p>
    </div>
</div>

</body>
</html>